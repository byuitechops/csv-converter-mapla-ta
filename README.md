# CSV Converter MapleTA
## Description
Allows users to convert CSV files generated by MapleTA to CSV files supported by Canvas.
## Usage
1. Drag and Drop or upload valid CSV files to the tool.
2. Select the "Convert" button.
3. Wait for the tool to finish converting each CSV file.
4. Select the "Download" button to download a .zip file of all the converted CSV files.
5. Close the tool or repeat steps 1-4 to convert again.
## Functions
### addToTables()
- Description: Adds files to the valid or invalid table depending on whether validation was passed.
- Parameters: None
- Return Type: None
### checkForDuplicates()
- Description: Checks if the user is uploading a file that has already been uploaded.
- Parameters: string
- Return Type: bool
### fileOnLoad()
- Description: This function runs on each file that is uploaded by the user. It calls the necessary functions to determine if the file is accepted.
- Parameters: Object, string
- Return Type: None
### init()
- Description: Initializes the necessary global variables and modifies some of the elements on the page. This function is called when the page loads and after the user clicks the download button.
- Parameters: None
- Return Type: None
### makeTheUserWaitForNoReason()
- Description: Since most CSV uploads convert almost instantly this function gives the user a sense that the tool is converting the CSVs. Once the wait is over, the function then allows the user to download the files.
- Parameters: None
- Return Type: None
### modifyCSV()
- Description: Modifies the data to conform to Canvas standards. The modified data is stored in the newFiles array.
- Parameters: None
- Return Type: None
### readFile()
- Description: Reads the files provided by the user. Once the file is read and loaded this function calls the fileOnLoad() function and then the callback. 
- Parameters: string, Function (callback)
- Return Type: None
### removeDragData()
- Description: Clears any leftover data from the user dragging and dropping files.
- Parameters: Object
- Return Type: None
### sortFiles()
- Description: This function sorts the files and invalid files into alphabetical order based on filename.
- Parameters: string, string
- Return Type: number
### validateCSV()
- Description: Validates the CSV file. The regEx should match the column headers of the file. Note: Columns that are static can be hard coded while columns that are dynamic, I.E assignment names, need to be accounted for.
- Parameters: Array
- Return Type: Array or bool
## Event Listeners
### Change
- Description: This listener's purpose is to run once the user has selected files from their file explorer. The function uses an asynchronous each() to read in  the files. Once they have been read in, the function calls the sort(sortfiles) and addToTables() functions.
### Click (Convert Button)
- Description: Checks if the files array's length is greater than 0 before allowing the modifyCSV function to run.
### Click (Download Button)
- Description: This listener's purpose is to run once the download is ready and the user clicks the download button. The function puts each converted file into a single zipped folder unless there is only one file to be converted. Once each file has been placed the download starts. 
### Click (Reset Button)
- Description: Resets the page by refreshing it. Note: This could break is the user loses connection.
### DOMContentLoaded
- Description: Initializes the Materialize Modal.
### Dragover (Window)
- Description: Prevents a file from executing its default action (Download or open in browser).
### Drop (Dropzone)
- Description: This listener's purpose is to run once the user drops files into the drop zone. The function uses an asynchronous each() to read in the files. Once they have been read in, the function calls the sort(sortfiles) and addToTables() functions.
### Drop (Window)
- Description: Prevents a file from executing its default action (Download or open in browser).
